<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple SFX Generator</title>
    <script src="https://unpkg.com/tone@15.1.22/build/Tone.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f7;
        }
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        button {
            background: #007AFF;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        button:hover {
            background: #0051D0;
            transform: translateY(-1px);
        }
        button:active {
            transform: translateY(0);
        }
        .mixed-button {
            background: #34C759 !important;
        }
        .mixed-button:hover {
            background: #28A745 !important;
        }
        .instrument-selector, .custom-sound, .mixed-instruments {
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        input, select {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1>üîä Apple SFX Generator</h1>
    <p>Click buttons to generate Apple-style UI sound effects</p>

    <div class="instrument-selector">
        <h3>üéπ Instrument</h3>
        <select id="instrumentSelect">
            <option value="sine">Sine Wave (Pure, Clean)</option>
            <option value="triangle">Triangle Wave (Warm, Soft)</option>
            <option value="sawtooth">Sawtooth (Bright, Electronic)</option>
            <option value="square">Square Wave (Digital, Retro)</option>
            <option value="fmsine">FM Synthesis (Bell-like)</option>
            <option value="pluck">Pluck (String Attack)</option>
            <option value="piano">üéπ Piano (Realistic Keys)</option>
            <option value="marimba">üî® Marimba (Wooden Mallets)</option>
            <option value="metalphone">üîî Metalphone (Bell Chimes)</option>
            <option value="harp">ü™à Harp (String Plucks)</option>
        </select>
    </div>

    <div class="controls">
        <button onclick="sfx.notificationChime()">Notification Chime</button>
        <button onclick="sfx.successSound()">Success Sound</button>
        <button onclick="sfx.buttonClick()">Button Click</button>
        <button onclick="sfx.errorSound()">Error Sound</button>
        <button onclick="sfx.swipeSound()">Swipe Sound</button>
        <button onclick="sfx.modalAppear()">Modal Appear</button>
    </div>

    <div class="mixed-instruments">
        <h3>üí∞ Mixed Instrument Effects</h3>
        <p>Layered sounds combining multiple synthesizers</p>
        <div class="controls">
            <button class="mixed-button" onclick="sfx.cashOutSound()">üí∞ Cash Out</button>
            <button class="mixed-button" onclick="sfx.levelUpSound()">‚¨ÜÔ∏è Level Up</button>
            <button class="mixed-button" onclick="sfx.magicSparkSound()">‚ú® Magic Spark</button>
            <button class="mixed-button" onclick="sfx.coinDropSound()">ü™ô Coin Drop</button>
        </div>
    </div>

    <div class="custom-sound">
        <h3>Custom Sound Generator</h3>
        <select id="noteSelect">
            <option value="C4">C4</option>
            <option value="D4">D4</option>
            <option value="E4">E4</option>
            <option value="F4">F4</option>
            <option value="G4">G4</option>
            <option value="A4">A4</option>
            <option value="B4">B4</option>
            <option value="C5">C5</option>
            <option value="D5">D5</option>
            <option value="E5">E5</option>
            <option value="F5">F5</option>
            <option value="G5">G5</option>
            <option value="A5">A5</option>
            <option value="B5">B5</option>
            <option value="C6">C6</option>
        </select>
        <input type="range" id="durationSlider" min="0.05" max="1" step="0.05" value="0.1">
        <span id="durationValue">0.1s</span>
        <button onclick="playCustomSound()">Play Custom</button>
    </div>

    <script>
        class AppleSFXGenerator {
            constructor() {
                this.reverb = null;
                this.synth = null;
                this.pluckSynth = null;
                this.pianoSynth = null;
                this.initialized = false;
                this.currentInstrument = 'sine';
            }

            async init() {
                if (this.initialized) return;
                
                await Tone.start();
                
                this.reverb = new Tone.Reverb({
                    decay: 1.5,
                    wet: 0.3
                }).toDestination();
                
                this.createSynth();
                this.createMixedSynths();
                await this.reverb.generate();
                this.initialized = true;
            }

            createSynth() {
                if (this.synth) {
                    this.synth.dispose();
                }

                const instrument = this.currentInstrument;
                
                if (instrument === 'pluck') {
                    this.synth = new Tone.PluckSynth({
                        attackNoise: 1,
                        dampening: 4000,
                        resonance: 0.7
                    }).connect(this.reverb);
                } else if (instrument === 'fmsine') {
                    this.synth = new Tone.FMSynth({
                        harmonicity: 3,
                        modulationIndex: 10,
                        oscillator: { type: 'sine' },
                        envelope: { attack: 0.01, decay: 0.1, sustain: 0.3, release: 0.8 },
                        modulation: { type: 'sine' },
                        modulationEnvelope: { attack: 0.006, decay: 0.2, sustain: 0.1, release: 0.8 }
                    }).connect(this.reverb);
                } else if (instrument === 'piano') {
                    this.synth = new Tone.Synth({
                        oscillator: { type: 'triangle' },
                        envelope: { attack: 0.001, decay: 0.3, sustain: 0.1, release: 1.2 }
                    }).connect(this.reverb);
                } else if (instrument === 'marimba') {
                    this.synth = new Tone.FMSynth({
                        harmonicity: 2,
                        modulationIndex: 20,
                        oscillator: { type: 'sine' },
                        envelope: { attack: 0.001, decay: 0.2, sustain: 0.1, release: 1.0 },
                        modulation: { type: 'sine' },
                        modulationEnvelope: { attack: 0.001, decay: 0.3, sustain: 0, release: 0.3 }
                    }).connect(this.reverb);
                } else if (instrument === 'metalphone') {
                    this.synth = new Tone.FMSynth({
                        harmonicity: 8,
                        modulationIndex: 12,
                        oscillator: { type: 'sine' },
                        envelope: { attack: 0.001, decay: 0.5, sustain: 0.2, release: 2.0 },
                        modulation: { type: 'sine' },
                        modulationEnvelope: { attack: 0.001, decay: 0.1, sustain: 0, release: 0.1 }
                    }).connect(this.reverb);
                } else if (instrument === 'harp') {
                    this.synth = new Tone.PluckSynth({
                        attackNoise: 0.2,
                        dampening: 6000,
                        resonance: 0.9
                    }).connect(this.reverb);
                } else {
                    this.synth = new Tone.Synth({
                        oscillator: { type: instrument },
                        envelope: {
                            attack: 0.005,
                            decay: 0.1,
                            sustain: 0.3,
                            release: 0.8
                        }
                    }).connect(this.reverb);
                }
            }

            async changeInstrument(instrument) {
                this.currentInstrument = instrument;
                if (this.initialized) {
                    this.createSynth();
                }
            }

            createMixedSynths() {
                if (this.pluckSynth) this.pluckSynth.dispose();
                if (this.pianoSynth) this.pianoSynth.dispose();

                this.pluckSynth = new Tone.PluckSynth({
                    attackNoise: 1,
                    dampening: 4000,
                    resonance: 0.7
                }).connect(this.reverb);

                this.pianoSynth = new Tone.Synth({
                    oscillator: { type: 'triangle' },
                    envelope: {
                        attack: 0.001,
                        decay: 0.4,
                        sustain: 0.2,
                        release: 1.5
                    }
                }).connect(this.reverb);
            }

            async ensureInit() {
                if (!this.initialized) await this.init();
            }

            async notificationChime() {
                await this.ensureInit();
                const now = Tone.now();
                this.synth.triggerAttackRelease('G5', '0.15', now);
                this.synth.triggerAttackRelease('C6', '0.2', now + 0.1);
            }

            async successSound() {
                await this.ensureInit();
                const now = Tone.now();
                this.synth.triggerAttackRelease('C5', '0.1', now);
                this.synth.triggerAttackRelease('E5', '0.1', now + 0.05);
                this.synth.triggerAttackRelease('G5', '0.15', now + 0.1);
            }

            async buttonClick() {
                await this.ensureInit();
                this.synth.triggerAttackRelease('C6', '0.05');
            }

            async errorSound() {
                await this.ensureInit();
                const now = Tone.now();
                this.synth.triggerAttackRelease('F4', '0.1', now);
                this.synth.triggerAttackRelease('D4', '0.15', now + 0.05);
            }

            async swipeSound() {
                await this.ensureInit();
                const now = Tone.now();
                this.synth.triggerAttackRelease('A4', '0.08', now);
                this.synth.triggerAttackRelease('C5', '0.06', now + 0.04);
            }

            async modalAppear() {
                await this.ensureInit();
                const now = Tone.now();
                this.synth.triggerAttackRelease('G4', '0.12', now);
                this.synth.triggerAttackRelease('D5', '0.18', now + 0.08);
            }

            async customSound(note, duration = '0.1') {
                await this.ensureInit();
                this.synth.triggerAttackRelease(note, duration);
            }

            // Mixed instrument sounds
            async cashOutSound() {
                await this.ensureInit();
                const now = Tone.now();
                
                // Initial pluck for that satisfying "cha-ching" attack
                this.pluckSynth.triggerAttackRelease('G5', '0.1', now);
                
                // Layered piano with waning effect (slides down but stays positive)
                this.pianoSynth.triggerAttackRelease('G5', '0.8', now + 0.05);
                this.pianoSynth.triggerAttackRelease('D5', '0.6', now + 0.15);
                this.pianoSynth.triggerAttackRelease('A4', '0.4', now + 0.3);
                
                // Additional harmonic for richness
                this.pianoSynth.triggerAttackRelease('B4', '0.5', now + 0.2);
            }

            async levelUpSound() {
                await this.ensureInit();
                const now = Tone.now();
                
                // Ascending pluck sequence
                this.pluckSynth.triggerAttackRelease('C5', '0.08', now);
                this.pluckSynth.triggerAttackRelease('E5', '0.08', now + 0.06);
                this.pluckSynth.triggerAttackRelease('G5', '0.08', now + 0.12);
                
                // Sustained piano harmony
                this.pianoSynth.triggerAttackRelease('C6', '0.6', now + 0.15);
                this.pianoSynth.triggerAttackRelease('E6', '0.4', now + 0.2);
            }

            async magicSparkSound() {
                await this.ensureInit();
                const now = Tone.now();
                
                // Quick pluck arpeggios
                this.pluckSynth.triggerAttackRelease('C6', '0.05', now);
                this.pluckSynth.triggerAttackRelease('E6', '0.05', now + 0.03);
                this.pluckSynth.triggerAttackRelease('G6', '0.05', now + 0.06);
                
                // Shimmering piano notes
                this.pianoSynth.triggerAttackRelease('C7', '0.3', now + 0.05);
                this.pianoSynth.triggerAttackRelease('G6', '0.4', now + 0.1);
            }

            async coinDropSound() {
                await this.ensureInit();
                const now = Tone.now();
                
                // High pluck for the "clink"
                this.pluckSynth.triggerAttackRelease('C6', '0.06', now);
                
                // Descending piano notes for the "drop" bounce effect
                this.pianoSynth.triggerAttackRelease('A5', '0.15', now + 0.05);
                this.pianoSynth.triggerAttackRelease('F5', '0.12', now + 0.12);
                this.pianoSynth.triggerAttackRelease('D5', '0.1', now + 0.18);
            }
        }

        const sfx = new AppleSFXGenerator();

        // Instrument selector
        const instrumentSelect = document.getElementById('instrumentSelect');
        instrumentSelect.addEventListener('change', async () => {
            await sfx.changeInstrument(instrumentSelect.value);
        });

        // Custom sound controls
        const durationSlider = document.getElementById('durationSlider');
        const durationValue = document.getElementById('durationValue');
        
        durationSlider.addEventListener('input', () => {
            durationValue.textContent = durationSlider.value + 's';
        });

        async function playCustomSound() {
            const note = document.getElementById('noteSelect').value;
            const duration = durationSlider.value;
            await sfx.customSound(note, duration);
        }
    </script>
</body>
</html>